<div class="container mt-2">
<h5 class="modal-title">Update bus data</h5>
<form #updateStationForm="ngForm" (ngSubmit)="saveChanges()">
    <div class="mb-3">
      <label class="form-label" for="name">Name:</label>
      <input class="form-control" id="name" name="name" [(ngModel)]="stationUpdate.name" #name="ngModel" required minlength="2" maxlength="50" type="text">
      @if (formSubmitted && name.invalid) {
        @if (name.errors?.['required']) {
          <small>Name is required.</small>
        }
        @if (name.errors?.['minlength']) {
          <small>Name must be at least 2 characters long.</small>
        }
        @if (name.errors?.['maxlength']) {
          <small>Name cannot exceed 50 characters.</small>
        }
      }
    </div>
  
    <div class="mb-3">
      <label class="form-label" for="location">Location:</label>
      <input class="form-control" id="location" name="location" [(ngModel)]="stationUpdate.location" #location="ngModel" required minlength="2" maxlength="50" type="text">
      @if (formSubmitted && location.invalid) {
        @if (location.errors?.['required']) {
          <small>Location is required.</small>
        }
        @if (location.errors?.['minlength']) {
          <small>Location must be at least 2 characters long.</small>
        }
        @if (location.errors?.['maxlength']) {
          <small>Location cannot exceed 50 characters.</small>
        }
      }
    </div>
  
    <div class="mb-3">
      <label class="form-label" for="gpsCode">GPS code:</label>
      <input class="form-control" id="gpsCode" name="gpsCode" [(ngModel)]="stationUpdate.gpsCode" #gpsCode="ngModel" required type="text">
      @if (formSubmitted && gpsCode.invalid) {
        @if (gpsCode.errors?.['required']) {
          <small>GPS code is required.</small>
        }
      }
    </div>
  
    <div class="mb-3">
      <label class="form-label" for="zoneId">Zone:</label>
      <select class="form-control" id="zoneId" name="zoneId" [(ngModel)]="stationUpdate.zoneId" #zoneId="ngModel" required>
        <option value="">Select a zone</option>
        @for (zone of zones; track zone.id) {
          <option [value]="zone.id">
            {{zone.name}}
          </option>
        }
      </select>
      @if (formSubmitted && zoneId.invalid) {
        @if (zoneId.errors?.['required']) {
          <small>Zone is required.</small>
        }
      }
    </div>
  
    <button type="submit" class="btn btn-primary">Save Changes</button>
    <button type="button" class="btn btn-danger" (click)="closeDialog()">Cancel</button>
  </form>
</div>