<div class="container mt-2">
    <h5 class="modal-title">Update line data</h5>
    <form #updateLineForm="ngForm" (ngSubmit)="saveChanges(updateLineForm)">


        <div class="mb-3">
            <label class="form-label">Name</label>
            <input type="text" name="name" class="form-control" required [(ngModel)]="lineUpdate.name" #name="ngModel"
                placeholder="Name">
            @if(name.invalid && (name.dirty || name.touched)) {
            @if(name.errors?.['required']) {<div class="text-danger">Name is required.</div>}
            }

        </div>


        <div class="mb-3">
            <label class="form-label">Starting station</label>
            <select class="form-select" name="startingStationId" [(ngModel)]="lineUpdate.startingStationId"
                #startingStationId="ngModel">
                @for (station of stations; track station.id) {
                <option [value]="station.id">
                    {{ station.name }}
                </option>
                }
            </select>
            @if(startingStationId.invalid && (startingStationId.dirty || startingStationId.touched)) {
            @if(startingStationId.errors?.['required']) {<div class="text-danger">Starting station is required.</div>}
            }
        </div>


        <div class="mb-3">
            <label class="form-label">Ending station</label>
            <select class="form-select" name="endingStationId" [(ngModel)]="lineUpdate.endingStationId"
                #endingStationId="ngModel">
                @for (station of stations; track station.id) {
                <option [value]="station.id">
                    {{ station.name }}
                </option>
                }
            </select>
            @if(endingStationId.invalid && (endingStationId.dirty || endingStationId.touched)) {
            @if(endingStationId.errors?.['required']) {<div class="text-danger">Ending station is required.</div>}
        }
        </div>


        <div>
            <label class="form-label">Complete distance</label>
            <input type="text" id="completeDistance" class="form-control" name="completeDistance"
                #completeDistance="ngModel" [(ngModel)]="lineUpdate.completeDistance" required>
            @if(completeDistance.invalid && (completeDistance.dirty || completeDistance.touched)) {
            @if(completeDistance.errors?.['required']) {<div class="text-danger">Complete distance is required.</div>}
        }
        </div>


        <div class="form-check form-switch">
            <input name="isActive" id="isActive" [(ngModel)]="lineUpdate.isActive" class="form-check-input"
                type="checkbox" role="switch" id="flexSwitchCheckChecked">
            <label class="form-check-label" for="flexSwitchCheckChecked">Active</label>
        </div>


        <div>
            <td><button type="submit" class="btn btn-primary">Save changes</button></td>
            <td><button type="button" class="btn btn-danger" (click)="closeDialog()">Cancel</button></td>
        </div>
    </form>
</div>